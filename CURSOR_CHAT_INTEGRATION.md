# Cursor Chat Integration Guide

## Overview

Auto-Brainlift now supports **optional** integration with Cursor IDE's chat history to provide richer development context in your summaries. This feature analyzes your Cursor chat conversations between commits to capture the thought process, decisions, and problem-solving that went into your code changes.

## Features

- **Opt-in by default**: Privacy-first approach - disabled unless explicitly enabled
- **Timestamp-based filtering**: Only analyzes chats since the previous commit
- **Two processing modes**: Full analysis for detailed insights or light mode for quick summaries
- **Development insights extraction**: Automatically categorizes key decisions, bug fixes, and implementation notes
- **Holistic memory storage**: Helps both you and AI assistants understand the full development journey

## Configuration

### Enable the Feature

1. Open Auto-Brainlift
2. Click the Settings button (gear icon)
3. Scroll to "Cursor Chat Integration (Beta)"
4. Check "Enable Cursor Chat Analysis"
5. Configure additional options as needed

### Settings

- **Enable Cursor Chat Analysis**: Toggle to enable/disable the feature
- **Cursor Data Path**: Leave empty for auto-detection or specify custom path
  - macOS: `~/Library/Application Support/Cursor/User/globalStorage/state.vscdb`
  - Windows: `%APPDATA%\Cursor\User\globalStorage\state.vscdb`
  - Linux: `~/.config/Cursor/User/globalStorage/state.vscdb`
- **Processing Mode**:
  - **Light Analysis** (Default): Processes ONLY chats that occurred since the last commit
  - **Full Analysis**: Processes chats from the last 7 days (up to 50) for deeper historical context
- **Include Chat Summaries**: Toggle whether to include chat context in GPT-4 prompts (disable to save tokens)

## How It Works

1. **Commit Detection**: When you make a Git commit, Auto-Brainlift detects it
2. **Timestamp Calculation**: Determines the timestamp of your previous commit
3. **Chat Reading**: Reads Cursor chats that occurred between commits
4. **Analysis**: Extracts key insights:
   - Key decisions made
   - Implementation details discussed
   - Bugs identified and fixed
   - Feature requests mentioned
   - Refactoring discussions
5. **Integration**: Includes these insights in both context.md and brainlift.md

## Privacy & Security

- **Local Processing Only**: All chat analysis happens locally on your machine
- **No Data Transmission**: Your chat history is never sent to external services
- **Project Isolation**: Only analyzes chats from the current project directory
- **User Control**: Can be disabled at any time through settings

## Cost Optimization

For users concerned about API costs:
1. **Use Light Mode** (default): Only processes chats since last commit
2. **Disable "Include Chat Summaries"**: Reads chats but doesn't send to GPT-4, saving tokens
3. **Disable entirely**: Turn off the feature completely if not needed

With "Include Chat Summaries" disabled, you'll still see the chat analysis in your output files, but it won't influence GPT-4's summary generation, significantly reducing token usage.

## Example Output

When enabled, your context.md and brainlift.md files will include a dedicated section at the bottom showing your Cursor chat activity:

### In context.md:
```markdown
[... main context summary generated by GPT-4 ...]

---

## Development Context from Cursor Chat
*Analyzed 12 conversations*

### Recent Development Activity:
*12 questions asked*

**Recent questions:**
- How do I implement error handling for the SQLite connection?
- What's the best way to structure the cache manager class?
- Fix the import errors with langgraph module...

### Key Decisions Made:
- Decided to use SQLite for local storage instead of JSON files
- Will implement caching with a 3-tier system

### Bugs Addressed:
- **Issue:** Import errors with langgraph module
  **Solution:** Fixed by setting PYTHONPATH correctly in Electron
```

### In brainlift.md:
The chat context appears at the bottom of the file, and GPT-4 may also weave insights from your chats into the main narrative for a richer reflection.

## Troubleshooting

### Chats Not Being Read
1. Verify Cursor is installed and has been used for the project
2. Check the data path in settings matches your Cursor installation
3. Ensure you have chats dated after your previous commit

### Performance Issues
- Light mode is already optimized to only process chats since last commit
- If still slow, consider disabling for projects with extremely high chat volume
- Full mode intentionally looks at 7 days of history, so expect longer processing

### Database Errors
- The feature gracefully handles missing or corrupted databases
- Check logs in `auto-brainlift/logs/` for detailed error messages

## Technical Details

The integration uses:
- SQLite database reading (read-only access)
- Timestamp-based filtering for relevance
- Natural language processing for insight extraction
- Secure, sandboxed execution

## Future Enhancements

Planned improvements:
- Configurable insight categories
- Chat search by keywords
- Export chat summaries separately
- Integration with other IDE chat systems

## Feedback

This is a beta feature. Please report issues or suggestions through the project's issue tracker. 